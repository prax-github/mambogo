apiVersion: v1
kind: ConfigMap
metadata:
  name: mambogo-demo-config
  namespace: mambogo-demo
data:
  # Service URLs (Kubernetes-native)
  payment-service-url: "http://payment-service"
  product-service-url: "http://product-service"
  cart-service-url: "http://cart-service"
  
  # Infrastructure
  kafka-bootstrap-servers: "kafka-service:9092"
  eureka-server-url: "http://eureka-server:8761"
  
  # Database Configuration
  database-url: "jdbc:postgresql://orders-db:5432/orders"
  database-username: "postgres"
  database-password: "postgres"
  
  # Kafka Topics
  order-topic: "order-events"
  payment-topic: "payment-events"
  payment-dlq: "payment-events.DLQ"
  
  # Security
  keycloak-issuer: "http://keycloak:8080/realms/ecommerce"
  
  # Monitoring
  zipkin-endpoint: "http://zipkin:9411/api/v2/spans"
  
  # Application Settings
  spring-profiles-active: "demo"
  outbox-enabled: "true"
  outbox-poll-interval-ms: "1000"
  outbox-batch-size: "100"
  
  # CORS Configuration for Demo Environment
  cors-enabled: "true"
  cors-allowed-origins: "https://demo.mambogo.com,http://localhost:5173"
  cors-allow-credentials: "true"
  cors-max-age: "3600"
  
  # Advanced CORS Policy Configuration
  cors-policy-enforcement-enabled: "true"
  cors-policy-auto-block-enabled: "true"
  cors-policy-auto-block-threshold: "15"
  cors-policy-require-user-agent: "true"
  cors-policy-max-requests-per-minute: "150"
  cors-policy-performance-monitoring-enabled: "true"
  cors-policy-alert-notifications-enabled: "true"